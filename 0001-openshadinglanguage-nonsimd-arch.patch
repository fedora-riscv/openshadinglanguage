--- OpenShadingLanguage-1.12.6.2/src/include/OSL/mask.h.orig	2022-10-01 08:43:53.000000000 +0900
+++ OpenShadingLanguage-1.12.6.2/src/include/OSL/mask.h	2022-10-10 16:16:09.101727934 +0900
@@ -4,7 +4,6 @@

 #pragma once

-#include <immintrin.h>
 #include <type_traits>

 #include <OSL/oslconfig.h>
@@ -23,6 +22,8 @@ using std::countr_zero;

 #elif OSL_INTEL_CLASSIC_COMPILER_VERSION

+#include <immintrin.h>
+
 OSL_FORCEINLINE int popcount(uint32_t x) noexcept { return _mm_popcnt_u32(x);}
 OSL_FORCEINLINE int popcount(uint64_t x) noexcept { return _mm_popcnt_u64(x); }
 OSL_FORCEINLINE int countr_zero(uint32_t x) noexcept { return _bit_scan_forward(x); }
